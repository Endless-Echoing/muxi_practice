<div id="progress"></div>
<script>
  let i=0;
  function count() {
// 做繁重的任务的⼀部分 (*)
    do {
      i++;
      progress.innerHTML = i;
    } while (i % 1e3 !== 0);
    if (i < 1e6) {
      setTimeout(count);
    }
  }
  count();

</script>